{"uid":"5901ebe963f3f589","name":"test_upload[case_info0]","fullName":"test_cases.test_file.test_upload.TestUpload#test_upload","historyId":"aa8f0af1119c6d6b28be919ed9160a48","time":{"start":1766838650515,"stop":1766838650515,"duration":0},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'json'","statusTrace":"@pytest.fixture(scope=\"session\", autouse=True)\n    def login_finture():\n        \"\"\"\n        全局登录 Fixture\n        scope=\"session\": 在整个测试会话只执行一次\n        autouse=True: 自动使用该 Fixture，无需在测试用例中显式引用\n        \"\"\"\n        print(\"\\n--- 全局前置：开始执行登录 ---\")\n        # 直接读取登录数据\n        data = {\"username\": \"testuser\", \"password\": \"test123\"}\n    \n        # 发送请求\n        req = RequestUtil()\n        res = req.send_request(method=\"post\", url=\"/auth/login\", json=data)\n>       result = res.json()\nE       AttributeError: 'NoneType' object has no attribute 'json'\n\nconftest.py:25: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1766838650400,"stop":1766838650460,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"excute_database_clear","time":{"start":1766838650460,"stop":1766838650460,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"login_finture","time":{"start":1766838650460,"stop":1766838650463,"duration":3},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'json'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/API_autotest_CICD/API_autotest_CICD/api_test/conftest.py\", line 25, in login_finture\n    result = res.json()\n","steps":[],"attachments":[{"uid":"78ba0893e093f256","name":"请求信息","source":"78ba0893e093f256.txt","type":"text/plain","size":122}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"epic","value":"Flask商城接口测试"},{"name":"story","value":"文件上传接口"},{"name":"feature","value":"文件管理模块"},{"name":"parentSuite","value":"test_cases.test_file"},{"name":"suite","value":"test_upload"},{"name":"subSuite","value":"TestUpload"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"2539-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_cases.test_file.test_upload"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case_info","value":"{'case_name': '上传文本文件_成功', 'request': {'method': 'post', 'url': '/files/upload', 'file_name': 'demo1.txt', 'file_type': 'text/plain'}, 'validate': {'status_code': 201, 'message': '上传成功'}}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"5901ebe963f3f589.json","parameterValues":["{'case_name': '上传文本文件_成功', 'request': {'method': 'post', 'url': '/files/upload', 'file_name': 'demo1.txt', 'file_type': 'text/plain'}, 'validate': {'status_code': 201, 'message': '上传成功'}}"]}